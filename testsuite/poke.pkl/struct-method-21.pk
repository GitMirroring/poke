/* { dg-do run } */

type Foo =
  struct
  {
    int<32>[3] a : a[0] == 1;

    method set = void: { a = [3,2,1]; }
  };

var foo = Foo { a=[1,2,3] };

/* { dg-command {.set obase 16} } */
/* { dg-command { foo.a } } */
/* { dg-output {\[0x00000001,0x00000002,0x00000003\]} } */
/* { dg-command { try foo.set; catch if E_constraint {print "caught";} } } */
/* { dg-output "\ncaught" } */
/* { dg-command { foo.a } } */
/* { dg-output {\[0x00000001,0x00000002,0x00000003\]} } */
